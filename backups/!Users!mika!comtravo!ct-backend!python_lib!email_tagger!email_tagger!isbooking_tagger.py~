import logging
from . helpers import tag_wrapper, TagStatus
from msg_type_model import apply_model


logger = logging.getLogger(__name__)


@tag_wrapper("isbooking")
def tag_isbooking(msg, result):
    try:
        logger.debug(result)
        result['p_booking'] = apply_model(None, result)
    except Exception as e:
        logger.exception(e)
        return TagStatus.server_error
    return TagStatus.success
